<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>Monitoring of Monitoring</title>
  <link href="http://monasca.io//css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="http://monasca.io//css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/default.min.css">
  <style type="text/css">
  
    footer.page-footer{background-image: url(http://monasca.io//images/default.png);}
  
  </style>
</head>
<body>
  <ul id="slide-out" class="side-nav">
    <li><a href="http://monasca.io/"><i class="mdi-action-home left"></i>Home<i class="mdi-hardware-keyboard-arrow-right right"></i></a></li>
    <li><a href="http://monasca.io//categories"><i class="mdi-action-perm-media left"></i>Categories<i class="mdi-hardware-keyboard-arrow-right right"></i></a></li>
  </ul>
  <div id="index-banner" class="parallax-container">
  <a data-activates="slide-out" class="btn-floating button-collapse" style="top: 5px; left: 5px;"><i class="mdi-navigation-menu"></i></a>
    <div class="section no-pad-bot">
      <div class="container">
        
        <h1 class="header center teal-text text-lighten-2">Monasca</h1>
        <div class="row center">
          <h5 class="header col s12 light">Monitoring-as-a-Service (at-Scale)</h5>
        </div>
        <div class="row center">
        
        
        
        
        
        </div>
      </div>
    </div>
    <div class="parallax">
    
      <img src="http://monasca.io//images/default.png">
    
    </div>
  </div>



<div class="container">
  <div class="section">

    <div class="row">
      <div class="col s12">
        <div class="card-panel">
          <h4>Monitoring of Monitoring</h4>
          <p><p>Monasca itself needs to be monitored and is fully capable of monitoring itself.  In non-production installations this can be done by the agent running on the Monasca boxes reporting back to the Monasca API. For production installations I recommend that the agent running on the Monasca nodes report to another installation of Monasca possibly a single vm &lsquo;mini-mon&rsquo; which is itself monitored by the primary installation, this avoids dependency loops.</p>

<p>As components of Monasca are developed metrics for the monitoring of that component need to be added as well as alarm definitions and finally default graphs to view the metrics. The most basic metrics are used in simple up/down alarms and more advanced used for thresholds and graphs aiding in predictive failure and capacity planning.</p>

<p>Here are the MoM alarms broken down by component, the exact alarms can be found at <a href="https://github.com/hpcloud-mon/ansible-monasca-default-alarms/blob/master/tasks/monasca.yml">https://github.com/hpcloud-mon/ansible-monasca-default-alarms/blob/master/tasks/monasca.yml</a></p>

<table>
<thead>
<tr>
<th>Component</th>
<th>Alarm</th>
</tr>
</thead>

<tbody>
<tr>
<td>zookeeper</td>
<td>pid check, average latency, zookeeper connections_count</td>
</tr>

<tr>
<td>kafka</td>
<td>pid check, consumer lag</td>
</tr>

<tr>
<td>mysql</td>
<td>pid check, slow queries</td>
</tr>

<tr>
<td>notification</td>
<td>pid check, config db time, email time</td>
</tr>

<tr>
<td>thresh/storm</td>
<td>pid check of nimbus, supervisor and workers</td>
</tr>

<tr>
<td>Agent</td>
<td>emit time, collection time</td>
</tr>

<tr>
<td>Persister</td>
<td>For the Java version a healthcheck on the admin url</td>
</tr>

<tr>
<td>API</td>
<td>For the Java version a healthcheck on the admin url</td>
</tr>
</tbody>
</table>
</p>
          
        </div>
      </div>
    </div>

  </div>
</div>

  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
      Â© 2015 Hewlett Packard Enterprise
      <div class="right"><a class="grey-text text-lighten-4" href="http://monasca.io/">Monasca.io</a></div>
      </div>
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="http://monasca.io//js/materialize.min.js"></script>
  <script src="http://monasca.io//js/init.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  </body>
</html>

